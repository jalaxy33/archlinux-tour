

## 解决安装Linux后Windows时间错乱的问题

参考：[Shorin-ArchlinuxGuide](https://github.com/SHORiN-KiWATA/ShorinArchExperience-ArchlinuxGuide/wiki/安装任意Linux系统的前期准备工作#解决安装Linux后Windows时间错乱的问题)


**问题原因**：Linux把主板时间改成标准UTC时间，然后根据系统设置的时区对UTC时间进行加减后显示出来。Windows直接读取主板时间显示出来，所以此时你Windows显示的时间就变成了UTC时间，表面上看就像是windows时间错乱了。


**解决方法**：修改注册表

Windows下管理员身份打开powershell 运行：
```sh
Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1
```

- `Reg add` 添加一个注册表项目
 
- `HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation`是路径
 
- `/v RealTimeIsUniversal` /v指定项目名称
 
- `/t REG_DWORD` /t 指定数据类型为 `REG_DWORD`（32位无符号整数）
 
- `/d 1` /d指定具体的值，1代表启用
 
上面这条命令修改注册表，让Windows采用和Linux相同的策略，默认主板时间为UTC，根据系统设置的时区进行相应的加减后再显示。


## 下载ISO文件

去想要安装的Linux系统的官网下载ISO文件。官网下载慢的话可以找一找镜像站，主流Linux发行版通常会在下载页面提供镜像站链接。

- [archlinux](https://archlinux.org/download/)



## 制作系统盘

### 方法一：Ventoy

[Ventoy官网](https://www.ventoy.net/cn/index.html)

ventoy制作的系统盘可以存放多个系统镜像，推荐。

制作系统盘会格式化u盘，记得备份数据。

### 方法二：压缩卷（没有u盘使用这个方法）

1. windows系统内win+x键，选择磁盘管理。找到想安装archlinux的位置，右键选择压缩卷，空出磁盘空间。

2. 右击空出的空间选择新增简单卷，大小设置为4096MB（足够装下iso里面的文件就行），盘符随意，格式化选择FAT32。

3. 双击打开iso，把里面的内容粘贴进刚刚新建的盘符里。


## Windows设置

### 关闭windows快速启动

搜索电源 --> 选择电源计划 --> 选择电源按钮的功能 → 更改当前不可用的设置 → 确认关闭了快速启动

### 关闭windows的Bitlocker

设置里搜索到后关闭。


## BIOS设置

### 进BIOS关闭安全启动

重启电脑进入BIOS关闭安全启动（security boot）。不同的机器进bios方法不同，现代电脑通常是esc、f2、delete、f1，如果不行的查找一下自己主板进bios的方法。


### 选择启动项

启动项选择刚刚制作的系统盘。引导界面会显示你是bios还是uefi，然后系统载入内存。这个环境被称作live环境。

#### BIOS和UEFI

本教程的系统安装流程只包含UEFI固件下的安装，不涉及BIOS下的安装。如果你的设备不支持UEFI，在安装引导程序的部分会有不同。




## 下一步：[安装 ArchLinux](./安装archlinux)
